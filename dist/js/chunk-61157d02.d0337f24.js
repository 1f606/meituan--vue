(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61157d02"],{"0755":function(t,e,s){"use strict";var i=s("b06e"),o=s.n(i);o.a},"098f":function(t,e,s){},1148:function(t,e,s){"use strict";var i=s("a691"),o=s("1d80");t.exports="".repeat||function(t){var e=String(o(this)),s="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(s+=e);return s}},"13ab":function(t,e,s){"use strict";var i=s("9411"),o=s.n(i);o.a},"146b":function(t,e,s){"use strict";var i=s("098f"),o=s.n(i);o.a},"159b":function(t,e,s){var i=s("da84"),o=s("fdbc"),n=s("17c2"),r=s("9112");for(var a in o){var c=i[a],h=c&&c.prototype;if(h&&h.forEach!==n)try{r(h,"forEach",n)}catch(l){h.forEach=n}}},"17c2":function(t,e,s){"use strict";var i=s("b727").forEach,o=s("b301");t.exports=o("forEach")?function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"29b5":function(t,e,s){"use strict";var i=s("98c2"),o=s.n(i);o.a},"2d76":function(t,e,s){},"2f95":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop"},[s("ShopHeader",{attrs:{info:this.info}}),s("nav",{staticClass:"shop-nav"},t._l(this.navs,(function(e,i){return s("div",{key:i,staticClass:"shop-nav_item",on:{click:function(e){return t.swiperMove(i)}}},[t._v(t._s(e))])})),0),s("div",{staticClass:"shop-swiperWrapper"},[s("div",{ref:"swiperContent",staticClass:"shop-swiperContent"},[s("div",{staticClass:"goods"},[s("div",{ref:"goodsList",staticClass:"goods-list"},[s("div",{ref:"menuWrapper",staticClass:"goods-list_wrapper--menu"},[s("ul",{staticClass:"goods-list_content--menu"},t._l(this.menuList,(function(e,i){return s("li",{key:i,staticClass:"goods-list_menu",class:{current:t.menuCurrentIndex===i},on:{click:function(e){return t.selectMenu(i)}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.iconUrl,expression:"item.iconUrl"}],staticClass:"goods-list_icon",attrs:{src:e.iconUrl}}),s("div",{staticClass:"goods-list_item"},[t._v(" "+t._s(e.categoryName)+" "),s("Ball",{attrs:{list:e.spuList}})],1)])})),0)]),s("div",{ref:"dishesWrapper",staticClass:"goods-list_wrapper--dishes"},[s("ul",{staticClass:"goods-list_content--dishes"},t._l(this.menuList,(function(e,i){return s("li",{key:i,staticClass:"goods-list_dishes goods-list_dishes--hook"},[s("div",{staticClass:"goods-list_title"},[t._v(t._s(e.categoryName))]),t._l(e.spuList,(function(e,i){return s("div",{key:i,staticClass:"goods-list_dish",on:{click:function(s){return t.showToggle(e)}}},[s("img",{staticClass:"goods-list_img",attrs:{src:e.littleImageUrl,alt:"photo"}}),s("div",{staticClass:"goods-list_info"},[s("h1",{staticClass:"goods-list_name"},[t._v(t._s(e.spuName))]),s("div",{staticClass:"goods-list_desc"},[t._v(t._s(e.spuDesc))]),s("div",[s("span",{staticClass:"goods-list_salesVolume"},[t._v("月售"+t._s(e.saleVolume))]),s("span",{staticClass:"goods-list_like"},[t._v("赞"+t._s(e.praiseNum))])]),s("div",{staticClass:"goods-list_select"},[s("span",{staticClass:"goods-list_price"},[t._v("¥"+t._s(e.currentPrice))]),s("div",{staticClass:"goods-list_wrapper"},[s("CartControl",{attrs:{dish:e},on:{cartAdd:t.handleCartAdd}})],1)])])])}))],2)})),0)])]),s("Toast",{ref:"toast",attrs:{item:this.selectedItem}}),s("ShopCart",{ref:"shopCart",attrs:{selectedFoods:this.selectedFoods,info:this.info}})],1),s("Comment",{attrs:{id:this.id}}),s("ShopInfo",{attrs:{shopInfo:this.shopInfo}})],1)])],1)},o=[],n=(s("4160"),s("159b"),s("2427")),r=s.n(n),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},a(t,e)};function c(t,e){function s(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var h=function(){return h=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++)for(var o in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)};function l(t){console.error("[BScroll warn]: "+t)}var u="undefined"!==typeof window,p=u&&navigator.userAgent.toLowerCase(),d=p&&/wechatdevtools/.test(p),f=p&&p.indexOf("android")>0;function m(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function v(t){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];for(var i=0;i<e.length;i++){var o=e[i];for(var n in o)t[n]=o[n]}return t}function y(t){return void 0===t||null===t}var g=u&&document.createElement("div").style,k=function(){if(!u)return!1;var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==g[t[e]])return e;return!1}();function C(t){return!1===k?t:"standard"===k?"transitionEnd"===t?"transitionend":t:k+t.charAt(0).toUpperCase()+t.substr(1)}function b(t){return"string"===typeof t?document.querySelector(t):t}function T(t,e,s,i){t.addEventListener(e,s,{passive:!1,capture:!!i})}function _(t,e,s,i){t.removeEventListener(e,s,{capture:!!i})}function w(t){var e=0,s=0;while(t)e-=t.offsetLeft,s-=t.offsetTop,t=t.offsetParent;return{left:e,top:s}}k&&"standard"!==k&&k.toLowerCase();var S=C("transform"),P=C("transition"),L=u&&C("perspective")in g,E=u&&("ontouchstart"in window||d),x=u&&P in g,D={transform:S,transition:P,transitionTimingFunction:C("transitionTimingFunction"),transitionDuration:C("transitionDuration"),transitionDelay:C("transitionDelay"),transformOrigin:C("transformOrigin"),transitionEnd:C("transitionEnd")},B={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2};function Y(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function F(t,e){for(var s in e)if(e[s].test(t[s]))return!0;return!1}var I=F;function M(t,e){var s=document.createEvent("Event");s.initEvent(e,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)}function X(t,e){var s;void 0===e&&(e="click"),"mouseup"===t.type?s=t:"touchend"!==t.type&&"touchcancel"!==t.type||(s=t.changedTouches[0]);var i,o={};s&&(o.screenX=s.screenX||0,o.screenY=s.screenY||0,o.clientX=s.clientX||0,o.clientY=s.clientY||0);var n=!0,r=!0;if("undefined"!==typeof MouseEvent)try{i=new MouseEvent(e,v({bubbles:n,cancelable:r},o))}catch(t){a()}else a();function a(){i=document.createEvent("Event"),i.initEvent(e,n,r),v(i,o)}i.forwardedTouchEvent=!0,i._constructed=!0,t.target.dispatchEvent(i)}function N(t){X(t,"dblclick")}var H={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},O=100/60,A=u&&window;function z(){}var R=function(){return u?A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||O)/2)}:z}(),W=function(){return u?A.cancelAnimationFrame||A.webkitCancelAnimationFrame||A.mozCancelAnimationFrame||A.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:z}(),j=function(t){},$={enumerable:!0,configurable:!0,get:j,set:j},K=function(t,e){for(var s=e.split("."),i=0;i<s.length-1;i++)if(t=t[s[i]],"object"!==typeof t||!t)return;var o=s.pop();return"function"===typeof t[o]?function(){return t[o].apply(t,arguments)}:t[o]},V=function(t,e,s){for(var i,o=e.split("."),n=0;n<o.length-1;n++)i=o[n],t[i]||(t[i]={}),t=t[i];t[o.pop()]=s};function U(t,e,s){$.get=function(){return K(this,e)},$.set=function(t){V(this,e,t)},Object.defineProperty(t,s,$)}var q,G,Z,J,Q,tt,et=function(){function t(t){this.events={},this.eventTypes={},this.registerType(t)}return t.prototype.on=function(t,e,s){return void 0===s&&(s=this),this._checkInTypes(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,s]),this},t.prototype.once=function(t,e,s){var i=this;void 0===s&&(s=this),this._checkInTypes(t);var o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i.off(t,o),e.apply(s,n)};return o.fn=e,this.on(t,o),this},t.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this._checkInTypes(t),!e)return this.events[t]=[],this;var s=this.events[t];if(!s)return this;var i=s.length;while(i--)(s[i][0]===e||s[i][0]&&s[i][0].fn===e)&&s.splice(i,1);return this}},t.prototype.trigger=function(t){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];this._checkInTypes(t);var i=this.events[t];if(i)for(var o,n=i.length,r=i.slice(),a=0;a<n;a++){var c=r[a],h=c[0],l=c[1];if(h&&(o=h.apply(l,e),!0===o))return o}},t.prototype.registerType=function(t){var e=this;t.forEach((function(t){e.eventTypes[t]=t}))},t.prototype.destroy=function(){this.events={},this.eventTypes={}},t.prototype._checkInTypes=function(t){var e=this.eventTypes,s=e[t]===t;s||l('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+Object.keys(e)+"]")},t}();(function(t){t[t["Positive"]=1]="Positive",t[t["Negative"]=-1]="Negative",t[t["Default"]=0]="Default"})(q||(q={})),function(t){t["Default"]="",t["Horizontal"]="horizontal",t["Vertical"]="vertical",t["None"]="none"}(G||(G={})),function(t){t["None"]="",t["Horizontal"]="horizontal",t["Vertical"]="vertical"}(Z||(Z={})),function(t){t[t["Touch"]=1]="Touch",t[t["Mouse"]=2]="Mouse"}(J||(J={})),function(t){t[t["Left"]=0]="Left",t[t["Middle"]=1]="Middle",t[t["Right"]=2]="Right"}(Q||(Q={})),function(t){t[t["Default"]=0]="Default",t[t["Throttle"]=1]="Throttle",t[t["Normal"]=2]="Normal",t[t["Realtime"]=3]="Realtime"}(tt||(tt={}));var st=function(){function t(){this.startX=0,this.startY=0,this.scrollX=!1,this.scrollY=!0,this.freeScroll=!1,this.directionLockThreshold=5,this.eventPassthrough=Z.None,this.click=!1,this.dblclick=!1,this.tap="",this.bounce={top:!0,bottom:!0,left:!0,right:!0},this.bounceTime=800,this.momentum=!0,this.momentumLimitTime=300,this.momentumLimitDistance=15,this.swipeTime=2500,this.swipeBounceTime=500,this.deceleration=.0015,this.flickLimitTime=200,this.flickLimitDistance=100,this.resizePolling=60,this.probeType=tt.Default,this.stopPropagation=!1,this.preventDefault=!0,this.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},this.tagException={tagName:/^TEXTAREA$/},this.HWCompositing=!0,this.useTransition=!0,this.bindToWrapper=!1,this.disableMouse=E,this.disableTouch=!E,this.autoBlur=!0}return t.prototype.merge=function(t){if(!t)return this;for(var e in t)this[e]=t[e];return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&L?" translateZ(0)":"",this.useTransition=this.useTransition&&x,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough!==Z.Horizontal&&this.scrollX,this.scrollY=this.eventPassthrough!==Z.Vertical&&this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=!!this.freeScroll||this.scrollX,this.scrollY=!!this.freeScroll||this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t}(),it=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(T)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(_)},t.prototype.handleDOMEvents=function(t){var e=this,s=this.wrapper;this.events.forEach((function(i){t(s,i.name,e,!!i.capture)}))},t.prototype.handleEvent=function(t){var e=t.type;this.events.some((function(s){return s.name===e&&(s.handler(t),!0)}))},t}(),ot=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new et(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return t.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,s=t.disableMouse,i=t.disableTouch,o=t.click,n=this.wrapper,r=e?n:window,a=[],c=[],h=E&&!i,l=!s;o&&a.push({name:"click",handler:this.click.bind(this),capture:!0}),h&&(a.push({name:"touchstart",handler:this.start.bind(this)}),c.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),l&&(a.push({name:"mousedown",handler:this.start.bind(this)}),c.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new it(n,a),this.targetEventRegister=new it(r,c)},t.prototype.beforeHandler=function(t,e){var s=this.options,i=s.preventDefault,o=s.stopPropagation,n=s.preventDefaultException,r={start:function(){return i&&!F(t.target,n)},end:function(){return i&&!F(t.target,n)},move:function(){return i}};r[e]()&&t.preventDefault(),o&&t.stopPropagation()},t.prototype.setInitiated=function(t){void 0===t&&(t=0),this.initiated=t},t.prototype.start=function(t){var e=B[t.type];if(!this.initiated||this.initiated===e)if(this.setInitiated(e),I(t.target,this.options.tagException))this.setInitiated();else if((e!==J.Mouse||t.button===Q.Left)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)){this.beforeHandler(t,"start");var s=t.touches?t.touches[0]:t;this.pointX=s.pageX,this.pointY=s.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}},t.prototype.move=function(t){if(B[t.type]===this.initiated){this.beforeHandler(t,"move");var e=t.touches?t.touches[0]:t,s=e.pageX-this.pointX,i=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:s,deltaY:i,e:t})){var o=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,r=this.pointX-o,a=this.pointY-n;(r>document.documentElement.clientWidth-this.options.momentumLimitDistance||r<this.options.momentumLimitDistance||a<this.options.momentumLimitDistance||a>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this.end(t)}}},t.prototype.end=function(t){B[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t,"end"),this.hooks.trigger(this.hooks.eventTypes.end,t))},t.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},t.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},t}(),nt={x:["translateX","px"],y:["translateY","px"]},rt=function(){function t(t){this.content=t,this.style=t.style,this.hooks=new et(["beforeTranslate","translate"])}return t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null),e=t[D.transform].split(")")[0].split(", "),s=+(e[12]||e[4]),i=+(e[13]||e[5]);return{x:s,y:i}},t.prototype.translate=function(t){var e=[];Object.keys(t).forEach((function(s){if(nt[s]){var i=nt[s][0];if(i){var o=nt[s][1],n=t[s];e.push(i+"("+n+o+")")}}})),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,e,t),this.style[D.transform]=""+e.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,t)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),at=function(){function t(t,e,s){this.content=t,this.translater=e,this.options=s,this.hooks=new et(["move","end","beforeForceStop","forceStop","time","timeFunction"]),this.style=t.style}return t.prototype.translate=function(t){this.translater.translate(t)},t.prototype.setPending=function(t){this.pending=t},t.prototype.setForceStopped=function(t){this.forceStopped=t},t.prototype.destroy=function(){this.hooks.destroy(),W(this.timer)},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.startProbe=function(){var t=this,e=function(){var s=t.translater.getComputedPosition();t.hooks.trigger(t.hooks.eventTypes.move,s),t.pending?t.timer=R(e):t.hooks.trigger(t.hooks.eventTypes.end,s)};W(this.timer),this.timer=R(e)},e.prototype.transitionTime=function(t){void 0===t&&(t=0),this.style[D.transitionDuration]=t+"ms",this.hooks.trigger(this.hooks.eventTypes.time,t)},e.prototype.transitionTimingFunction=function(t){this.style[D.transitionTimingFunction]=t,this.hooks.trigger(this.hooks.eventTypes.timeFunction,t)},e.prototype.move=function(t,e,s,i,o){this.setPending(s>0&&(t.x!==e.x||t.y!==e.y)),this.transitionTimingFunction(i),this.transitionTime(s),this.translate(e),s&&this.options.probeType===tt.Realtime&&this.startProbe(),s||(this._reflow=this.content.offsetHeight),s||o||(this.hooks.trigger(this.hooks.eventTypes.move,e),this.hooks.trigger(this.hooks.eventTypes.end,e))},e.prototype.stop=function(){if(this.pending){this.setPending(!1),W(this.timer);var t=this.translater.getComputedPosition(),e=t.x,s=t.y;if(this.transitionTime(),this.translate({x:e,y:s}),this.setForceStopped(!0),this.hooks.trigger(this.hooks.eventTypes.beforeForceStop,{x:e,y:s}))return;this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:e,y:s})}},e}(at),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.move=function(t,e,s,i,o){if(!s){if(this.translate(e),this._reflow=this.content.offsetHeight,o)return;return this.hooks.trigger(this.hooks.eventTypes.move,e),void this.hooks.trigger(this.hooks.eventTypes.end,e)}this.animate(t,e,s,i)},e.prototype.animate=function(t,e,s,i){var o=this,n=m(),r=n+s,a=function(){var c=m();if(c>=r)return o.translate(e),o.hooks.trigger(o.hooks.eventTypes.move,e),void o.hooks.trigger(o.hooks.eventTypes.end,e);c=(c-n)/s;var h=i(c),l={};Object.keys(e).forEach((function(s){var i=t[s],o=e[s];l[s]=(o-i)*h+i})),o.translate(l),o.pending&&(o.timer=R(a)),o.options.probeType===tt.Realtime&&o.hooks.trigger(o.hooks.eventTypes.move,l)};this.setPending(!0),W(this.timer),a()},e.prototype.stop=function(){if(this.pending){this.setPending(!1),W(this.timer);var t=this.translater.getComputedPosition();if(this.setForceStopped(!0),this.hooks.trigger(this.hooks.eventTypes.beforeForceStop,t))return;this.hooks.trigger(this.hooks.eventTypes.forceStop,t)}},e}(at);function lt(t,e,s){var i=s.useTransition,o={};return Object.defineProperty(o,"probeType",{enumerable:!0,configurable:!1,get:function(){return s.probeType}}),i?new ct(t,e,o):new ht(t,e,o)}var ut,pt,dt,ft,mt,vt=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new et(["momentum","end"]),this.content=this.wrapper.children[0],this.currentPos=0,this.startPos=0}return t.prototype.start=function(){this.direction=q.Default,this.movingDirection=q.Default,this.dist=0},t.prototype.move=function(t){t=this.hasScroll?t:0,this.movingDirection=t>0?q.Negative:t<0?q.Positive:q.Default;var e=this.currentPos+t;return(e>this.minScrollPos||e<this.maxScrollPos)&&(e=e>this.minScrollPos&&this.options.bounces[0]||e<this.maxScrollPos&&this.options.bounces[1]?this.currentPos+t/3:e>this.minScrollPos?this.minScrollPos:this.maxScrollPos),e},t.prototype.end=function(t){var e={duration:0},s=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&s>this.options.momentumLimitDistance){var i=this.direction===q.Negative&&this.options.bounces[0]||this.direction===q.Positive&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,i,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},t.prototype.momentum=function(t,e,s,i,o,n,r){void 0===r&&(r=this.options);var a=t-e,c=Math.abs(a)/s,h=r.deceleration,l=r.swipeBounceTime,u=r.swipeTime,p={destination:t+c/h*(a<0?-1:1),duration:u,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,p,a),p.destination<i?(p.destination=n?Math.max(i-n/4,i-n/p.rate*c):i,p.duration=l):p.destination>o&&(p.destination=n?Math.min(o+n/4,o+n/p.rate*c):o,p.duration=l),p.destination=Math.round(p.destination),p},t.prototype.updateDirection=function(){var t=Math.round(this.currentPos)-this.absStartPos;this.direction=t>0?q.Negative:t<0?q.Positive:q.Default},t.prototype.refresh=function(){var t=this.options.rect,e=t.size,s=t.position,i="static"===window.getComputedStyle(this.wrapper,null).position,o=Y(this.wrapper);this.wrapperSize=o[e];var n=Y(this.content);this.contentSize=n[e],this.relativeOffset=n[s],i&&(this.relativeOffset-=o[s]),this.minScrollPos=0,this.maxScrollPos=this.wrapperSize-this.contentSize,this.maxScrollPos<0&&(this.maxScrollPos-=this.relativeOffset,this.minScrollPos=-this.relativeOffset),this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,this.hasScroll||(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize),this.direction=0},t.prototype.updatePosition=function(t){this.currentPos=t},t.prototype.getCurrentPos=function(){return Math.round(this.currentPos)},t.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos),e=t===this.getCurrentPos();return{position:t,inBoundary:e}},t.prototype.adjustPosition=function(t){var e=Math.round(t);return!this.hasScroll||e>this.minScrollPos?e=this.minScrollPos:e<this.maxScrollPos&&(e=this.maxScrollPos),e},t.prototype.updateStartPos=function(){this.startPos=this.currentPos},t.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},t.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},t.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},t.prototype.destroy=function(){this.hooks.destroy()},t}();(function(t){t["Yes"]="yes",t["No"]="no"})(mt||(mt={}));var yt=(ut={},ut[mt.Yes]=function(t){return!0},ut[mt.No]=function(t){return t.preventDefault(),!1},ut),gt=(pt={},pt[G.Horizontal]=(dt={},dt[mt.Yes]=Z.Horizontal,dt[mt.No]=Z.Vertical,dt),pt[G.Vertical]=(ft={},ft[mt.Yes]=Z.Vertical,ft[mt.No]=Z.Horizontal,ft),pt),kt=function(){function t(t,e,s){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=s,this.reset()}return t.prototype.reset=function(){this.directionLocked=G.Default},t.prototype.checkMovingDirection=function(t,e,s){return this.computeDirectionLock(t,e),this.handleEventPassthrough(s)},t.prototype.adjustDelta=function(t,e){return this.directionLocked===G.Horizontal?e=0:this.directionLocked===G.Vertical&&(t=0),{deltaX:t,deltaY:e}},t.prototype.computeDirectionLock=function(t,e){this.directionLocked!==G.Default||this.freeScroll||(t>e+this.directionLockThreshold?this.directionLocked=G.Horizontal:e>=t+this.directionLockThreshold?this.directionLocked=G.Vertical:this.directionLocked=G.None)},t.prototype.handleEventPassthrough=function(t){var e=gt[this.directionLocked];if(e){if(this.eventPassthrough===e[mt.Yes])return yt[mt.Yes](t);if(this.eventPassthrough===e[mt.No])return yt[mt.No](t)}return!1},t}(),Ct=function(){function t(t,e,s,i,o){this.hooks=new et(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=s,this.animater=i,this.options=o,this.directionLockAction=new kt(o.directionLockThreshold,o.freeScroll,o.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return t.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,(function(e){return!t.enabled||t.handleStart(e)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,(function(e){var s=e.deltaX,i=e.deltaY,o=e.e;return!t.enabled||t.handleMove(s,i,o)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,(function(e){return!t.enabled||t.handleEnd(e)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,(function(e){t.enabled&&!e._constructed&&t.handleClick(e)}))},t.prototype.handleStart=function(t){var e=m();this.moved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.stop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},t.prototype.handleMove=function(t,e,s){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,s)){var i=this.scrollBehaviorX.getAbsDist(t),o=this.scrollBehaviorY.getAbsDist(e),n=m();if(this.checkMomentum(i,o,n))return!0;if(this.directionLockAction.checkMovingDirection(i,o,s))return this.actionsHandler.setInitiated(),!0;var r=this.directionLockAction.adjustDelta(t,e),a=this.scrollBehaviorX.move(r.deltaX),c=this.scrollBehaviorY.move(r.deltaY);this.moved||(this.moved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.animater.translate({x:a,y:c}),this.dispatchScroll(n)}},t.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===tt.Throttle&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>tt.Throttle&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},t.prototype.checkMomentum=function(t,e,s){return s-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},t.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;this.animater.translate(e),this.endTime=m();var s=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,s)}},t.prototype.handleClick=function(t){F(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation())},t.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},t.prototype.refresh=function(){this.endTime=0},t.prototype.destroy=function(){this.hooks.destroy()},t}();function bt(t){var e=["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException"].reduce((function(e,s){return e[s]=t[s],e}),{});return e}function Tt(t,e,s,i){var o=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime"].reduce((function(e,s){return e[s]=t[s],e}),{});return o.scrollable=t[e],o.bounces=s,o.rect=i,o}function _t(t,e,s){s.forEach((function(s){var i,o;"string"===typeof s?i=o=s:(i=s.source,o=s.target),t.on(i,(function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return e.trigger.apply(e,[o].concat(t))}))}))}var wt,St=function(){function t(t,e){this.hooks=new et(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","refresh","touchEnd","end","flick","scrollCancel","momentum","scrollTo","ignoreDisMoveForSamePos","scrollToElement"]),this.wrapper=t,this.content=t.children[0],this.options=e;var s=this.options.bounce,i=s.left,o=void 0===i||i,n=s.right,r=void 0===n||n,a=s.top,c=void 0===a||a,h=s.bottom,l=void 0===h||h;this.scrollBehaviorX=new vt(t,Tt(e,"scrollX",[o,r],{size:"width",position:"left"})),this.scrollBehaviorY=new vt(t,Tt(e,"scrollY",[c,l],{size:"height",position:"top"})),this.translater=new rt(this.content),this.animater=lt(this.content,this.translater,this.options),this.actionsHandler=new ot(t,bt(this.options)),this.actions=new Ct(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var u=this.resize.bind(this);this.resizeRegister=new it(window,[{name:"orientationchange",handler:u},{name:"resize",handler:u}]),this.transitionEndRegister=new it(this.content,[{name:D.transitionEnd,handler:this.transitionEnd.bind(this)}]),this.init()}return t.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,(function(){t.togglePointerEvents(!0)}))},t.prototype.bindTranslater=function(){var t=this,e=this.translater.hooks;e.on(e.eventTypes.beforeTranslate,(function(e){t.options.translateZ&&e.push(t.options.translateZ)})),e.on(e.eventTypes.translate,(function(e){t.updatePositions(e),t.togglePointerEvents(!1)}))},t.prototype.bindAnimater=function(){var t=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,(function(e){t.resetPosition(t.options.bounceTime)||(t.animater.setPending(!1),t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e))})),_t(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},t.prototype.bindActions=function(){var t=this,e=this.actions;_t(e.hooks,this.hooks,[{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:e.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:e.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:e.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:e.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),e.hooks.on(e.hooks.eventTypes.end,(function(s,i){return t.hooks.trigger(t.hooks.eventTypes.touchEnd,i),!!t.hooks.trigger(t.hooks.eventTypes.end,i)||(!e.moved&&t.checkClick(s)?(t.animater.setForceStopped(!1),t.hooks.trigger(t.hooks.eventTypes.scrollCancel),!0):(t.animater.setForceStopped(!1),!!t.resetPosition(t.options.bounceTime,H.bounce)||void 0))})),e.hooks.on(e.hooks.eventTypes.scrollEnd,(function(e,s){var i=Math.abs(e.x-t.scrollBehaviorX.startPos),o=Math.abs(e.y-t.scrollBehaviorY.startPos);t.checkFlick(s,i,o)?t.hooks.trigger(t.hooks.eventTypes.flick):t.momentum(e,s)||t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e)}))},t.prototype.checkFlick=function(t,e,s){if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&s<this.options.flickLimitDistance)return!0},t.prototype.momentum=function(t,e){var s={time:0,easing:H.swiper,newX:t.x,newY:t.y},i=this.scrollBehaviorX.end(e),o=this.scrollBehaviorY.end(e);if(s.newX=y(i.destination)?s.newX:i.destination,s.newY=y(o.destination)?s.newY:o.destination,s.time=Math.max(i.duration,o.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,s,this),s.newX!==t.x||s.newY!==t.y)return(s.newX>this.scrollBehaviorX.minScrollPos||s.newX<this.scrollBehaviorX.maxScrollPos||s.newY>this.scrollBehaviorY.minScrollPos||s.newY<this.scrollBehaviorY.maxScrollPos)&&(s.easing=H.swipeBounce),this.scrollTo(s.newX,s.newY,s.time,s.easing),!0},t.prototype.checkClick=function(t){var e={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return!0;if(!e.preventClick){var s=this.options.dblclick,i=!1;if(s&&this.lastClickTime){var o=s.delay,n=void 0===o?300:o;m()-this.lastClickTime<n&&(i=!0,N(t))}return this.options.tap&&M(t,this.options.tap),this.options.click&&!F(t.target,this.options.preventDefaultException)&&X(t),this.lastClickTime=i?null:m(),!0}return!1},t.prototype.resize=function(){var t=this;this.actions.enabled&&(f&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((function(){t.refresh()}),this.options.resizePolling))},t.prototype.transitionEnd=function(t){if(t.target===this.content&&this.animater.pending){var e=this.animater;e.transitionTime(),this.resetPosition(this.options.bounceTime,H.bounce)||(this.animater.setPending(!1),this.options.probeType!==tt.Realtime&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos()))}},t.prototype.togglePointerEvents=function(t){void 0===t&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],s=t?"auto":"none",i=0;i<e.length;i++){var o=e[i];o.isBScroll||(o.style.pointerEvents=s)}},t.prototype.refresh=function(){this.scrollBehaviorX.refresh(),this.scrollBehaviorY.refresh(),this.actions.refresh(),this.wrapperOffset=w(this.wrapper)},t.prototype.scrollBy=function(t,e,s,i){void 0===s&&(s=0);var o=this.getCurrentPos(),n=o.x,r=o.y;i=i||H.bounce,t+=n,e+=r,this.scrollTo(t,e,s,i)},t.prototype.scrollTo=function(t,e,s,i,o,n){void 0===s&&(s=0),void 0===o&&(o={start:{},end:{}}),i=i||H.bounce;var r=this.options.useTransition?i.style:i.fn,a=this.getCurrentPos(),c=h({x:a.x,y:a.y},o.start),l=h({x:t,y:e},o.end);this.hooks.trigger(this.hooks.eventTypes.scrollTo,l),(this.hooks.trigger(this.hooks.eventTypes.ignoreDisMoveForSamePos)||c.x!==l.x||c.y!==l.y)&&this.animater.move(c,l,s,r,n)},t.prototype.scrollToElement=function(t,e,s,i,o){var n=b(t),r=w(n),a=function(t,e,s){return"number"===typeof t?t:t?Math.round(e/2-s/2):0};s=a(s,n.offsetWidth,this.wrapper.offsetWidth),i=a(i,n.offsetHeight,this.wrapper.offsetHeight);var c=function(t,e,s,i){return t-=e,t=i.adjustPosition(t-s),t};r.left=c(r.left,this.wrapperOffset.left,s,this.scrollBehaviorX),r.top=c(r.top,this.wrapperOffset.top,i,this.scrollBehaviorY),this.hooks.trigger(this.hooks.eventTypes.scrollToElement,n,r)||this.scrollTo(r.left,r.top,e,o)},t.prototype.resetPosition=function(t,e){void 0===t&&(t=0),e=e||H.bounce;var s=this.scrollBehaviorX.checkInBoundary(),i=s.position,o=s.inBoundary,n=this.scrollBehaviorY.checkInBoundary(),r=n.position,a=n.inBoundary;return(!o||!a)&&(this.scrollTo(i,r,t,e),!0)},t.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},t.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},t.prototype.enable=function(){this.actions.enabled=!0},t.prototype.disable=function(){W(this.animater.timer),this.actions.enabled=!1},t.prototype.destroy=function(){var t=this,e=["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"];e.forEach((function(e){return t[e].destroy()}))},t}(),Pt=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];(function(t){t["Pre"]="pre",t["Post"]="post"})(wt||(wt={}));var Lt=function(t){function e(e,s){var i=t.call(this,["refresh","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,o=b(e);if(!o)return l("Can not resolve the wrapper DOM."),i;var n=o.children[0];return n?(i.plugins={},i.options=(new st).merge(s).process(),i.hooks=new et(["init","refresh","enable","disable","destroy"]),i.init(o),i):(l("The wrapper need at least one child element to be scroller."),i)}return c(e,t),e.use=function(t){var e=t.pluginName,s=this.plugins.some((function(e){return t===e.ctor}));return s?this:y(e)?(l("Plugin Class must specify plugin's name in static property by 'pluginName' field."),this):this.pluginsMap[e]?(l("This plugin has been registered, maybe you need change plugin's name"),this):(this.pluginsMap[e]=!0,this.plugins.push({name:e,enforce:t.enforce,ctor:t}),this)},e.prototype.init=function(t){this.wrapper=t,t.isBScroll=!0,this.scroller=new St(t,this.options),this.eventBubbling(),this.handleAutoBlur(),this.innerRefresh(),this.scroller.scrollTo(this.options.startX,this.options.startY),this.enable(),this.proxy(Pt),this.applyPlugins()},e.prototype.applyPlugins=function(){var t=this,e=this.options;this.constructor.plugins.sort((function(t,e){var s,i=(s={},s[wt.Pre]=-1,s[wt.Post]=1,s),o=t.enforce?i[t.enforce]:0,n=e.enforce?i[e.enforce]:0;return o-n})).forEach((function(s){var i=s.ctor;e[s.name]&&"function"===typeof i&&(t.plugins[s.name]=new i(t))}))},e.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,(function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()}))},e.prototype.eventBubbling=function(){_t(this.scroller.hooks,this,["beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick"])},e.prototype.innerRefresh=function(){this.scroller.refresh(),this.hooks.trigger(this.hooks.eventTypes.refresh),this.trigger(this.eventTypes.refresh)},e.prototype.proxy=function(t){var e=this;t.forEach((function(t){var s=t.key,i=t.sourceKey;U(e,i,s)}))},e.prototype.refresh=function(){this.innerRefresh(),this.scroller.resetPosition()},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},e.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},e.prototype.eventRegister=function(t){this.registerType(t)},e.plugins=[],e.pluginsMap={},e}(et),Et=Lt,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-header"},[s("i",{staticClass:"shop-header_backwardArrow",on:{click:t.backToIndex}}),s("div",{staticClass:"shop-header_detail"},[s("div",{staticClass:"shop-header_logoWrapper"},[s("img",{staticClass:"shop-header_logo",attrs:{src:this.info.shopPic,alt:""}})]),s("div",{staticClass:"shop-header_content"},[s("div",{staticClass:"shop-header_delivery"},[s("span",{staticClass:"shop-header_time"},[t._v(t._s(this.info.shipping_time))]),s("span",{staticClass:"shop-header_column"},[t._v("|")]),s("span",{staticClass:"shop-header_distance"},[t._v(t._s(this.info.distance))])]),s("p",{staticClass:"shop-header_desc"},[t._v(t._s(this.info.bulletin))]),t._m(0)])])])},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-header_discount"},[s("i",{staticClass:"shop-header_icon"}),s("span",{staticClass:"shop-header_text"},[t._v("折扣商品1.67折起")])])}],Bt={name:"ShopHeader",props:{info:Object},methods:{backToIndex:function(){this.$router.push("/")}}},Yt=Bt,Ft=(s("caed"),s("2877")),It=Object(Ft["a"])(Yt,xt,Dt,!1,null,"34f61ec4",null),Mt=It.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shopCart"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFoodListShow,expression:"isFoodListShow"}],staticClass:"mask",on:{click:t.hideFoodList}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:this.totalPrice>this.info.minFee,expression:"this.totalPrice > this.info.minFee"}],staticClass:"shopCart-alert--outside"},[t._v("已满足起送价")]),s("div",{staticClass:"shopCart_content--left",on:{click:t.showFoodList}},[s("div",{staticClass:"shopCart_icon",class:t.iconClass},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.totalCount>0,expression:"this.totalCount > 0"}],staticClass:"shopCart_bubble"},[t._v(t._s(this.totalCount))])])]),s("div",{staticClass:"shopCart_content--center",on:{click:t.showFoodList}},[s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:this.totalPrice>0,expression:"this.totalPrice>0"}],staticClass:"shopCart_price"},[s("span",{staticClass:"shopCart_unit"},[t._v("¥")]),s("span",{staticClass:"shopCart_totalPrice"},[t._v(t._s(this.totalPrice))])]),s("div",{class:t.deliveryClass},[t._v("另需配送费¥"+t._s(this.info.minFee))])])]),s("div",{staticClass:"shopCart_content--right"},[s("div",{staticClass:"shopCart_payment",class:t.paymentClass,on:{click:t.pay}},[t._v(t._s(this.paymentDesc))])]),s("transition-group",{attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},t._l(this.balls,(function(t,e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],key:e,staticClass:"ball"})})),0),s("transition",{attrs:{name:"fold"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFoodListShow,expression:"isFoodListShow"}],staticClass:"shopCart-list"},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.totalPrice>this.info.minFee,expression:"this.totalPrice > this.info.minFee"}],staticClass:"shopCart-alert--inside"},[t._v("已满足起送价")]),s("div",{staticClass:"shopCart-list_title clearFix"},[s("span",[t._v("购物车")]),s("div",{staticClass:"shopCart-list_clear",on:{click:t.clearSelectedFoods}},[t._v("清空购物车")])]),s("ul",{staticClass:"shopCart-list_foodList"},t._l(this.selectedFoods,(function(e,i){return s("li",{key:i,staticClass:"shopCart-list_food"},[s("div",{staticClass:"shopCart-list_foodName"},[t._v(t._s(e.spuName))]),s("div",{staticClass:"shopCart-list_price"},[t._v("¥"+t._s(e.currentPrice))]),s("div",{staticClass:"shopCart-list_wrapper"},[s("cart-control",{attrs:{dish:e}})],1)])})),0)])])],1)},Nt=[],Ht=(s("99af"),s("b680"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cartControl"},[s("transition",{attrs:{name:"move"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.dish.count>0,expression:"dish.count > 0"}],staticClass:"cartControl-minus",on:{click:function(e){return e.stopPropagation(),t.decreaseCart(e)}}},[s("div",{staticClass:"cartControl-minus_rotate"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dish.count>0,expression:"dish.count > 0"}],staticClass:"cartControl-total"},[t._v(t._s(t.dish.count))]),s("div",{staticClass:"cartControl-plus",on:{click:function(e){return e.stopPropagation(),t.addCart(e)}}})],1)}),Ot=[],At=s("2b0e"),zt={name:"CartControl",props:{dish:Object},methods:{addCart:function(t){this.dish.count?this.dish.count++:At["a"].set(this.dish,"count",1),this.$emit("cartAdd",t.target)},decreaseCart:function(){this.dish.count>0&&this.dish.count--}}},Rt=zt,Wt=(s("13ab"),Object(Ft["a"])(Rt,Ht,Ot,!1,null,"8ca689ec",null)),jt=Wt.exports,$t={name:"ShopCart",components:{CartControl:jt},props:{selectedFoods:{type:Array,default:function(){return[]}},info:Object},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],isFoodListShow:!1}},computed:{totalPrice:function(){var t=0;if(this.selectedFoods.forEach((function(e){t+=e.currentPrice*e.count})),0===t)return!1;var e=t.toFixed(2);return e},totalCount:function(){var t=0;return this.selectedFoods.forEach((function(e){t+=e.count})),t},paymentDesc:function(){if(0===this.totalPrice)return"¥".concat(this.info.minFee,"起送");if(this.info.minFee>this.totalPrice){var t=this.info.minFee-this.totalPrice;return"差¥".concat(t,"起送")}return"去结算"},deliveryClass:function(){return{shopCart_deliveryPrice:!this.totalPrice,"shopCart_deliveryPrice--smaller":this.totalPrice}},iconClass:function(){return{"shopCart_icon--inactive":!this.totalPrice,"shopCart_icon--active":this.totalPrice}},paymentClass:function(){return{"shopCart_payment--active":this.totalPrice>this.info.minFee}}},methods:{drop:function(t){for(var e=0;e<this.balls.length;e++){var s=this.balls[e];if(!s.show)return s.show=!0,s.elem=t,void this.dropBalls.push(s)}},beforeEnter:function(t){var e=this.balls.length;while(e--){var s=this.balls[e];if(s.show){var i=s.elem.getBoundingClientRect(),o=i.left-32,n=-(window.innerHeight-i.top-22);t.style.display="",t.style.transform="translate3d(".concat(o,"px, ").concat(n,"px, 0)")}}},enter:function(t){t.offsetHeight;this.$nextTick((function(){t.style.transform="translate3d(0, 0, 0)"}))},afterEnter:function(t){var e=this.dropBalls.shift();e&&(e.show=!1,t.style.display="none")},showFoodList:function(){this.isFoodListShow=!this.isFoodListShow},hideFoodList:function(){this.isFoodListShow=!1},clearSelectedFoods:function(){this.selectedFoods.forEach((function(t){t.count=0})),this.isFoodListShow=!1},pay:function(){alert("你需要支付".concat(this.totalPrice))}}},Kt=$t,Vt=(s("146b"),Object(Ft["a"])(Kt,Xt,Nt,!1,null,"363f03d0",null)),Ut=Vt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalNumber>0,expression:"totalNumber > 0"}],staticClass:"ball"},[t._v(t._s(t.totalNumber))])},Gt=[],Zt={name:"Ball",props:{list:Array},computed:{totalNumber:function(){var t=0;return this.list.forEach((function(e){e.count&&(t+=e.count)})),t}}},Jt=Zt,Qt=(s("a945"),Object(Ft["a"])(Jt,qt,Gt,!1,null,"170146bc",null)),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isToastShow,expression:"isToastShow"}],staticClass:"toast"},[s("div",{staticClass:"toast-content"},[s("div",{staticClass:"toast-content_food"},[s("img",{staticClass:"toast-content_img",attrs:{src:this.item.bigImageUrl,alt:"img"}}),s("div",{staticClass:"toast-content_name"},[t._v(t._s(this.item.spuName))]),s("div",{staticClass:"toast-content_salesVolume"},[s("span",[t._v("月售"+t._s(this.item.saleVolume))]),s("span",{staticClass:"toast-content_like"},[t._v("赞"+t._s(this.item.praiseNum))])]),s("div",{staticClass:"toast-content_price"},[t._v(" "+t._s(this.item.currentPrice)+" "),this.item.count?s("div",{staticClass:"cartControlWrapper "},[s("CartControl",{attrs:{dish:this.item}})],1):s("div",{staticClass:"toast-content_addCart",on:{click:t.addCart}},[t._v("加入购物车")])])]),s("div",{staticClass:"toast-content_close",on:{click:t.hideToast}})]),s("div",{staticClass:"background",on:{click:t.hideToast}})])},se=[],ie={name:"Toast",components:{CartControl:jt},props:{item:Object},data:function(){return{isToastShow:!1}},methods:{toggle:function(){this.isToastShow=!this.isToastShow},hideToast:function(){this.isToastShow=!1},addCart:function(t){this.item.count?this.item.count++:At["a"].set(this.item,"count",1),this.$emit("cartAdd",t.target)}}},oe=ie,ne=(s("9ab3"),Object(Ft["a"])(oe,ee,se,!1,null,"7554076a",null)),re=ne.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment",on:{"&scroll":function(e){return t.getLazyLoadData(e)}}},[s("div",{staticClass:"comment-shopInfo"},[s("div",{staticClass:"comment-shopInfo_shopRateWrapper"},[s("div",{staticClass:"comment-shopInfo_shopRate"},[t._v(t._s(this.data.shopScore))]),s("div",{staticClass:"comment-shopInfo_shopRateText"},[t._v("商家评分")])]),s("div",{staticClass:"comment-shopInfo_mainContent"},[s("div",{staticClass:"comment-shopInfo_tasteWrapper"},[s("span",{staticClass:"comment-shopInfo_tasteText"},[t._v("口味")]),s("Star",{attrs:{starNumber:this.data.qualityScore}}),s("span",{staticClass:"comment-shopInfo_tasteRate"},[t._v(t._s(this.data.qualityScore))])],1),s("div",{staticClass:"comment-shopInfo_packageWrapper"},[s("span",{staticClass:"comment-shopInfo_packageText"},[t._v("包装")]),s("Star",{attrs:{starNumber:this.data.packScore}}),s("span",{staticClass:"comment-shopInfo_packageRate"},[t._v(t._s(this.data.packScore))])],1)]),s("div",{staticClass:"comment-shopInfo_deliveryWrapper"},[s("div",{staticClass:"comment-shopInfo_deliveryRate"},[t._v(t._s(this.data.deliveryScore))]),s("div",{staticClass:"comment-shopInfo_deliveryText"},[t._v("配送评分")])])]),s("div",{staticClass:"comment-details"},[s("div",{staticClass:"comment-details_commentLabels clearFix"},t._l(this.labelList,(function(e,i){return s("div",{key:i,staticClass:"comment-details_commentLabel",class:{"comment-details_commentLabel--active":e.isSelected},on:{click:function(s){return t.initCommentList(e)}}},[t._v(t._s(e.content))])})),0),s("CommentItem",{attrs:{commentList:this.commentList}}),s("CommentItem",{attrs:{commentList:this.lazyLoadList}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.allListLoaded,expression:"allListLoaded"}],staticClass:"comment-warn"},[t._v("——我是有底线的——")])])},ce=[],he=s("343e"),le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"comment-details_list"},t._l(this.commentList,(function(e,i){return s("li",{key:i,staticClass:"comment-details_item"},[t._m(0,!0),s("div",{staticClass:"comment-details_mainContent"},[s("div",{staticClass:"comment-details_nameAndData clearFix"},[s("div",{staticClass:"comment-details_userName"},[t._v(t._s(e.userName))]),s("div",{staticClass:"comment-details_commentDate"},[t._v(t._s(e.commentTime))])]),s("div",{staticClass:"comment-details_deliveryTime"},[t._v(t._s(e.deliveryTime))]),s("div",{staticClass:"comment-details_content"},[t._v(t._s(e.content))]),e.pictures.length>0?s("div",{staticClass:"comment-details_foodImg",style:{background:"url("+e.pictures[0].bigPicUrl+") no-repeat"}}):t._e(),e.praiseDish?s("div",{staticClass:"comment-details_recommend"},[t._v(" "+t._s(e.praiseDish)+" ")]):t._e(),e.shopReply?s("div",{staticClass:"comment-details_reply"},[t._v(t._s(e.shopReply))]):t._e()])])})),0)},ue=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-details_imgWrapper"},[s("div",{staticClass:"comment-details_profileImg"})])}],pe={name:"CommentItem",props:{commentList:Array}},de=pe,fe=(s("0755"),Object(Ft["a"])(de,le,ue,!1,null,"67ff3a64",null)),me=fe.exports,ve={name:"Comment",props:{id:String},data:function(){return{commentList:[],labelList:[],data:{},lazyLoadList:[],currentLabelId:0,readyToLoadId:0,allListLoaded:!1}},components:{Star:he["a"],CommentItem:me},created:function(){var t=this;r.a.get("/static/comment/"+this.id+".json").then((function(e){t.data=e.data.data,t.labelList=t.data.commentLabels,t.readyToLoadId=t.data.commentLabels,t.commentList=t.data.list}))},methods:{getLazyLoadData:function(t){t.target.scrollHeight-496-t.target.scrollTop<50&&this.getLazyLoadCommentList()},initCommentList:function(t){var e=this,s=t.ID;this.currentLabelId=s,this.readyToLoadId=s;for(var i=0;i<this.labelList.length;i++)this.labelList[i].isSelected=0;t.isSelected=1,r.a.get("/static/"+s+"/"+s+".json").then((function(t){e.commentList=t.data.data.list})),this.allListLoaded=!1},getLazyLoadCommentList:function(){var t=this;this.allListLoaded||r.a.get("/static/"+this.currentLabelId+"/"+this.readyToLoadId+".json").then((function(e){t.lazyLoadList=e.data.data.list,t.readyToLoadId++})).catch((function(e){console.log(e),t.allListLoaded=!0}))}}},ye=ve,ge=(s("29b5"),Object(Ft["a"])(ye,ae,ce,!1,null,"3a7c66c5",null)),ke=ge.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info"},[s("div",{staticClass:"info-itemWrapper"},[s("div",{staticClass:"info-itemWrapper_item item--location"},[t._v(t._s(this.shopInfo.shopAddress))]),s("div",{staticClass:"info-addressWrapper_call"})]),t._m(0),t._m(1),s("div",{staticClass:"info-itemWrapper"},[s("div",{staticClass:"info-itemWrapper_item item--tip"},[t._v(" "+t._s(this.shopInfo.tip)+" ")])]),s("div",{staticClass:"info-itemWrapper"},[s("div",{staticClass:"info-itemWrapper_item item--serve"},[t._v(" 商家服务 ")]),t._l(this.shopInfo.activityList,(function(e,i){return s("div",{key:i,staticClass:"info-itemWrapper_iconWrapper"},[s("div",{staticClass:"info-itemWrapper_icon",style:{background:"url("+e.iconUrl+") center/contain no-repeat"}}),t._v(" "+t._s(e.actDesc)+" ")])}))],2)])},be=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-itemWrapper"},[s("div",{staticClass:"info-itemWrapper_item item--security"},[t._v("查看食品档案")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-itemWrapper"},[s("div",{staticClass:"info-itemWrapper_item item--time"},[t._v(" 配送时间：9.00-24.00 ")])])}],Te={name:"ShopInfo",props:{shopInfo:Object}},_e=Te,we=(s("af58"),Object(Ft["a"])(_e,Ce,be,!1,null,"0393963c",null)),Se=we.exports,Pe={name:"Goods",components:{ShopCart:Ut,CartControl:jt,Ball:te,Toast:re,Comment:ke,ShopHeader:Mt,ShopInfo:Se},data:function(){return{id:"",menuList:[],shopInfo:{},listHeight:[],scrollY:0,selectedItem:{},navs:["点菜","评价","商家"],info:{}}},created:function(){var t=this;this.getId(),r.a.get("/static/"+this.id+".json").then((function(e){t.info=e.data.data.shopInfo,t.menuList=e.data.data.categoryList,t.$nextTick((function(){t.dishesScroll&&t.menuScroll?(t.dishesScroll.refresh(),t.menuScroll.refresh()):t._initBetterScroll(),t._calculateHeight()}))}))},mounted:function(){var t=this;window.onbeforeunload=function(){document.documentElement.scrollTop=0,document.body.scrollTop=0},r.a.get("/static/info/"+this.id+".json").then((function(e){console.log(e),t.shopInfo=e.data.data}))},computed:{menuCurrentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t}return 0},selectedFoods:function(){var t=[];return this.menuList.forEach((function(e){e.spuList.forEach((function(e){e.count&&t.push(e)}))})),t}},methods:{getId:function(){var t=this.$route.query.id;this.id=t},_initBetterScroll:function(){var t=this;this.dishesScroll=new Et(this.$refs.dishesWrapper,{mouseWheel:!0,click:!0,probeType:3}),this.menuScroll=new Et(this.$refs.menuWrapper,{mouseWheel:!0,click:!0,probeType:3}),this.dishesScroll.on("scroll",(function(e){t.scrollY=Math.abs(Math.round(e.y))}))},_calculateHeight:function(){var t=this.$refs.dishesWrapper.getElementsByClassName("goods-list_dishes--hook"),e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++){var i=t[s];e+=i.clientHeight,this.listHeight.push(e)}},selectMenu:function(t){var e=this.$refs.dishesWrapper.getElementsByClassName("goods-list_dishes--hook"),s=e[t];this.dishesScroll.scrollToElement(s,300)},handleCartAdd:function(t){this.$refs.shopCart.drop(t)},showToggle:function(t){this.selectedItem=t,this.$refs.toast.toggle()},swiperMove:function(t){this.$refs.swiperContent.style.transform="translate3d(-".concat(100*t,"%, 0, 0)")}}},Le=Pe,Ee=(s("6155"),Object(Ft["a"])(Le,i,o,!1,null,"05b4a8cb",null));e["default"]=Ee.exports},"408a":function(t,e,s){var i=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,s){"use strict";var i=s("23e7"),o=s("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},6155:function(t,e,s){"use strict";var i=s("a64d"),o=s.n(i);o.a},7609:function(t,e,s){},9411:function(t,e,s){},"98c2":function(t,e,s){},"9a3f":function(t,e,s){},"9ab3":function(t,e,s){"use strict";var i=s("f0a6"),o=s.n(i);o.a},a64d:function(t,e,s){},a945:function(t,e,s){"use strict";var i=s("2d76"),o=s.n(i);o.a},af58:function(t,e,s){"use strict";var i=s("7609"),o=s.n(i);o.a},b06e:function(t,e,s){},b301:function(t,e,s){"use strict";var i=s("d039");t.exports=function(t,e){var s=[][t];return!s||!i((function(){s.call(null,e||function(){throw 1},1)}))}},b680:function(t,e,s){"use strict";var i=s("23e7"),o=s("a691"),n=s("408a"),r=s("1148"),a=s("d039"),c=1..toFixed,h=Math.floor,l=function(t,e,s){return 0===e?s:e%2===1?l(t,e-1,s*t):l(t*t,e/2,s)},u=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){c.call({})}));i({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,s,i,a,c=n(this),p=o(t),d=[0,0,0,0,0,0],f="",m="0",v=function(t,e){var s=-1,i=e;while(++s<6)i+=t*d[s],d[s]=i%1e7,i=h(i/1e7)},y=function(t){var e=6,s=0;while(--e>=0)s+=d[e],d[e]=h(s/t),s=s%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var s=String(d[t]);e=""===e?s:e+r.call("0",7-s.length)+s}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(f="-",c=-c),c>1e-21)if(e=u(c*l(2,69,1))-69,s=e<0?c*l(2,-e,1):c/l(2,e,1),s*=4503599627370496,e=52-e,e>0){v(0,s),i=p;while(i>=7)v(1e7,0),i-=7;v(l(10,i,1),0),i=e-1;while(i>=23)y(1<<23),i-=23;y(1<<i),v(1,1),y(2),m=g()}else v(0,s),v(1<<-e,0),m=g()+r.call("0",p);return p>0?(a=m.length,m=f+(a<=p?"0."+r.call("0",p-a)+m:m.slice(0,a-p)+"."+m.slice(a-p))):m=f+m,m}})},caed:function(t,e,s){"use strict";var i=s("9a3f"),o=s.n(i);o.a},f0a6:function(t,e,s){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-61157d02.d0337f24.js.map